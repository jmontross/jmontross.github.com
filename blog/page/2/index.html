
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>A hacker's attempt to document the journey</title>
  <meta name="author" content="Joshua Montross">

  
  <meta name="description" content="So I have some code that runs nginx and node, but I&#8217;d like to do this in a vm because my mac doesnt quite run the exact same as the production &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jmontross.github.com/blog/page/2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="A hacker's attempt to document the journey" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">A hacker's attempt to document the journey</a></h1>
  
    <h2>teaching/learning on ruby javascript software and more.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jmontross.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/19/setting-up-ubuntu-12-dot-04-lts-using-vagrant/">Setting Up Ubuntu 12.04 LTS Using Vagrant</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-19T11:06:00-08:00" pubdate data-updated="true">Feb 19<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So I have some code that runs nginx and node, but I&#8217;d like to do this in a vm because my mac doesnt quite run the exact same as the production ubuntu.  Since development is production I&#8217;d like replicable steps to make a VM on a local machine and run our nginx/node app.  There are two ways to go about this once we decide to use vagrant.</p>

<ol>
<li>Use standard boxes already built from isos and publicly avaiable in .box format</li>
<li>Make our own .box with custom settings from an iso at official http://www.ubuntu.com/download/server</li>
</ol>


<p>We can use use an out of the box available VM from http://www.vagrantbox.es/
Let&#8217;s go down this route and save the custom ubuntu precise for another day.</p>

<pre><code> vagrant box add ubuntu-12-04-daily http://cloud-images.ubuntu.com/precise/current/precise-server-cloudimg-vagrant-i386-disk1.box
</code></pre>

<p>You&#8217;ll have to wait 10 to 20 minutes if you&#8217;ve got reasonably fast internet
vagrant init
modify vagrant file to have</p>

<pre><code>config.vm.box = "ubuntu-12-04-daily"
config.vm.forward_port 443, 6666
config.vm.forward_port 80, 8080
</code></pre>

<p>Now save and close that vagrant file
If you are interested in the port forwarding read http://docs.vagrantup.com/v1/docs/config/vm/forward_port.html
Otherwise, back to the command line to get inside this new VM.</p>

<pre><code>vagrant up
vagrant ssh
</code></pre>

<p>now you are inside the virtual machine and should see vagrant@vagrant-ubuntu-precise-32</p>

<pre><code>sudo apt-get install nginx
sudo ngnix
</code></pre>

<p>Then browse to http://0.0.0.0:8080/ and we see Welcome to Nginx!</p>

<p>Now I want to have node and mongo&#8230;  I use this code</p>

<pre><code>wget https://raw.github.com/punkave/stagecoach/master/sc-proxy/install-node-and-mongo-on-ubuntu.bash
sudo bash install-node-and-mongo-on-ubuntu.bash
</code></pre>

<p>So I did this because I wouldnt mind having the latest&#8230; but I&#8217;d also like to build from the trustworthy source.  http://www.ubuntu.com/download/server</p>

<p>I got a file called ubuntu-12.04.2-server-amd64.iso</p>

<pre><code>mv -f ~/Downloads/ubuntu-12.04.2-server-amd64.iso ~/code/vms
</code></pre>

<p>Then I add a new vm using virtualbox and configure it to use this iso as a cd drive.  I created a vm called ubuntu12.04, and this is the same name I gave it on the network.  I gave it a user called vagrant and a password called password&#8230; When I boot up it works!</p>

<p>I follow some steps from here http://pyfunc.blogspot.com/2011/11/creating-base-box-from-scratch-for.html</p>

<pre><code>sudo apt-get install build-essential
sudo apt-get install ruby1.8
curl -L https://get.rvm.io | bash -s stable --ruby
source /hom/vagrant/.rvm/scripts/rvm


got a key from here ... https://raw.github.com/mitchellh/vagrant/master/keys/vagrant.pub
</code></pre>

<p>I realize this file is bad&#8230; this is the good one . 4 keys -</p>

<pre><code>http://docs.vagrantup.com/v1/docs/base_boxes.html

1 VirtualBox Guest Additions for shared folders, port forwarding, etc.
2 SSH with key-based auth support for the vagrant user
3 Ruby &amp; RubyGems to install Chef and Puppet
4 Chef and Puppet for provisioning support
</code></pre>

<p>ADDED /opt/company-name/</p>

<p>symlinked code to there</p>

<p>created shared folder to this area.  vbox, settngs, shared folders</p>

<p>Wow - got ahead of myself. need item 1.  items 2-4 are not so hard.</p>

<pre><code>1. Run your Ubuntu Server Virtual Machine

2. From the Devices menu select Install Guest Additions.

3. Now you are supposed to have the guest additions .iso image in your virtual     machine’s CD.

4. Now you might find a problem that is the cdrom is not automatically mounted, so you need to     do one more step before starting the installation:

    $ sudo mount /dev/cdrom /media/cdrom
    block device /dev/sr0 is write-protected, mounting read-only

That will do the trick.

5. Move to the cdrom directory

    $ cd /media/cdrom/
6. When listing the contents you should see something like this:

    $ ls -la
    total 37429
    dr-xr-xr-x 4 root root     2048 2011-06-24 15:45 .
    drwxr-xr-x 3 root root     4096 2011-07-17 16:20 ..
    dr-xr-xr-x 3 root root     2048 2011-06-24 15:45 32Bit
    dr-xr-xr-x 2 root root     2048 2011-06-24 15:45 64Bit
    -r-xr-xr-x 1 root root      647 2011-01-19 14:42 AUTORUN.INF
    -r-xr-xr-x 1 root root     6966 2011-06-24 15:40 autorun.sh
    -r-xr-xr-x 1 root root     5523 2011-06-24 15:40 runasroot.sh
    -r-xr-xr-x 1 root root  7863758 2011-06-24 15:43 VBoxLinuxAdditions.run
    -r-xr-xr-x 1 root root 14665216 2011-06-24 16:44 VBoxSolarisAdditions.pkg
    -r-xr-xr-x 1 root root  9294616 2011-06-24 15:31 VBoxWindowsAdditions-amd64.exe
    -r-xr-xr-x 1 root root   278832 2011-06-24 15:24 VBoxWindowsAdditions.exe
    -r-xr-xr-x 1 root root  6199880 2011-06-24 15:25 VBoxWindowsAdditions-x86.exe
7. Now it is time to run the installation

    $ sudo ./VBoxLinuxAdditions.run
</code></pre>

<p>http://tadabborat.tumblr.com/post/7881270430/virtualbox-shared-folders-on-ubuntu-server-64bit</p>

<p>K - on to second item&#8230;</p>

<pre><code>sudo apt-get install ssh

rm -r "$(gem env gemdir)"/doc/*.
</code></pre>

<p>sources
http://pyfunc.blogspot.com/2011/11/creating-base-box-from-scratch-for.html
http://seletz.github.com/blog/2012/01/17/creating-vagrant-base-boxes-with-veewee/
http://chrisyallop.com/2012/04/customising-a-vagrant-box-with-veewee/
https://github.com/jedi4ever/veewee/commit/31133bd14b3562aa4e9479c6b964450562838602
https://www.digitalocean.com/community/articles/how-to-install-ruby-on-rails-on-ubuntu-12-04-lts-precise-pangolin-with-rvm
http://docs.rubygems.org/read/chapter/3</p>

<p>taking this a step further one day &#8230;
https://github.com/opscode/bento</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/15/new-mac-set-up-with-chef/">New Mac Set Up With Chef</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-15T18:31:00-08:00" pubdate data-updated="true">Feb 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>why? Because I love TDD, DRY, and rubymine shortcuts.  Pivotal did a good thing with this soloist gem, and I enjoy making use of great ideas that solve problems I have experienced.  As much fun as it is to set up my new laptop with memcached, mysql, redis, mongo, and insert_dependency_here I&#8217;ve done it enough times to realize it is not really a valuable learning experience one need repeat.</p>

<p>Problem is&#8230;. it broke?  Why?  I added some of my own custom recipes and the newest mac has issues with gcc and ruby when I wanted to use 1.8.7 as a rvm version for an older project.  Either way, This is what my little script I use looks like. I run it with bash.  I made it using http://www.solowizard.com/ and the code at https://github.com/pivotal/pivotal_workstation</p>

<p>To get chef-solo working these steps were required
had to clone pivotal_workstation and dmg into ~/cookbooks, get commands line tools from mac (http://stackoverflow.com/questions/9329243/xcode-4-4-command-line-tools), gem install soloist.  Then you are able to just run the command bash setup_my_machine&#8230;. make sure you have the recipes&#8230;. some of the ones in this list below are custom from my cookbooks repo (https://github.com/jmontross/pivotal_workstation)&#8230;</p>

<pre><code>cat ~/cookbooks/setup_my_machine.sh
#!/bin/bash
# This shell script was created at solowizard.com
#
# Usage:
#   Running the script remotely:
#     bash &lt; &lt;(curl -s http://www.solowizard.com/soloist_scripts/frsp9k.sh )
#   Running the script if you have downloaded it:
#     ./frsp9k.sh
#
# http://github.com/tommyh/solo_wizard
# (c) 2012, Tom Hallett
# This script may be freely distributed under the MIT license.

pushd `pwd`
if rvm --version 2&gt;/dev/null; then
  gem install soloist
else
  sudo gem install soloist
fi

mkdir -p ~/cookbooks; cd ~/cookbooks
cat &gt; soloistrc &lt;&lt;EOF
cookbook_paths:
- $PWD
recipes:
- pivotal_workstation::ack
- pivotal_workstation::activemq
- pivotal_workstation::add_ops_user
- pivotal_workstation::ccmenu
- pivotal_workstation::chrome
- pivotal_workstation::create_var_chef_cache
- pivotal_workstation::defaults_fast_key_repeat_rate
- pivotal_workstation::default_editor
- pivotal_workstation::dropbox
- pivotal_workstation::enable_assistive_devices
- pivotal_workstation::erlang
- pivotal_workstation::firefox
- pivotal_workstation::flycut
- pivotal_workstation::function_keys
- pivotal_workstation::git
- pivotal_workstation::github_for_mac
- pivotal_workstation::gitx
- pivotal_workstation::git_config_global_defaults
- pivotal_workstation::git_scripts
- pivotal_workstation::ghostscript
- pivotal_workstation::global_environment_variables
- pivotal_workstation::homebrew
- pivotal_workstation::heroku_toolbelt
- pivotal_workstation::imagemagick
- pivotal_workstation::increase_shared_memory
- pivotal_workstation::inputrc
- pivotal_workstation::iterm2
- pivotal_workstation::java
- pivotal_workstation::keyboard_preferences
- pivotal_workstation::keycastr
- pivotal_workstation::librsvg
- pivotal_workstation::locate_on
- pivotal_workstation::memcached
- pivotal_workstation::menubar_preferences
- pivotal_workstation::menumeters
- pivotal_workstation::mongodb
- pivotal_workstation::mouse_locator
- pivotal_workstation::mysql
- pivotal_workstation::nginx
- pivotal_workstation::node_js
- pivotal_workstation::pango
- pivotal_workstation::postgres
- pivotal_workstation::prince_xml
- pivotal_workstation::qt
- pivotal_workstation::rabbitmq
- pivotal_workstation::redis
- pivotal_workstation::rubymine
- pivotal_workstation::rubymine_preferences_pivotal
- pivotal_workstation::rvm
- pivotal_workstation::screen_sharing_app
- pivotal_workstation::sizeup
- pivotal_workstation::skype
- pivotal_workstation::sshd_on
- pivotal_workstation::ssl_certificate
- pivotal_workstation::sublime_text
- pivotal_workstation::textmate
- pivotal_workstation::textmate_bundles
- pivotal_workstation::textmate_preferences
- pivotal_workstation::tmux
- pivotal_workstation::unix_essentials
- pivotal_workstation::user_owns_usr_local
- pivotal_workstation::vagrant
- pivotal_workstation::vim
- pivotal_workstation::virtualbox
- pivotal_workstation::workspace_directory
- pivotal_workstation::xquartz
- pivotal_workstation::z
EOF
if [[ -d pivotal_workstation ]]; then
  cd pivotal_workstation &amp;&amp; git pull &amp;&amp; cd ..
else
  git clone https://github.com/pivotal/pivotal_workstation.git
fi
if [[ -d dmg ]]; then
  cd dmg &amp;&amp; git pull &amp;&amp; cd ..
else
  git clone https://github.com/opscode-cookbooks/dmg.git
fi
soloist
popd
</code></pre>

<p>I&#8217;m thinking of checking out this new tool from github called boxen, which uses puppet, and has similar end goal as soloist.  Though I imagine both of them will have the occasionally problem keeping up with bleeding edge of mac os releases.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/14/joshs-software-test/">Joshs Software Test</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-14T16:52:00-08:00" pubdate data-updated="true">Feb 14<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Inspired by Joel on Software I&#8217;d like to make my own little software test&#8230;
Ten items.  8 or better is acceptable.  Below 8 and reevaluate.</p>

<pre><code>The Josh Test (Don't josh me)

Do you use source control?
Can you make a build in one step?
Do you make daily builds?
Do you have a bug database?
Do you write tests for bugs before you fix them?
Are you using a kanban system to do work in the form of tickets?
Do you write tests for new tickets?
Do programmers have quiet working conditions?
Do you use the best tools money can buy?
Do new candidates write code during their interview?
</code></pre>

<p>Some additional ones that are more preferential and rightfully punish you for not having the prerequisite version control system&#8230;.</p>

<p>Does your process of using a version control system reference your tickets?
Can you tie the work for a desired feature to actual commits in a VCS?</p>

<p>Inspired and stolen in part from
http://www.joelonsoftware.com/articles/fog0000000043.html</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/14/given-unsorted-array-and-integer-x-part-3/">Given Unsorted Array and Integer X Part 3</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-14T02:10:00-08:00" pubdate data-updated="true">Feb 14<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p> After sending over my results from <a href="http://jmontross.github.com/blog/2013/01/26/given-unsorted-array-and-integer-x-part-2/"> part 2 </a> of the unsorted array and integer x problem, I got no response from this mysterious interviewer&#8230; and I imagined it&#8217;s because my solution without hashes was terribly inefficient.  It must be possible to solve this problem without hashes elegantly and more efficiently.</p>

<p> I&#8217;ve decided to go with a new solution where we sort the array from the start then build a list of the target answers, similarly to the building up of the hash, except we do this in constant time (I think) and keep our list tidy with only the minimal possible answers remaining in our sorted array of integers.</p>

<pre><code>def adds_to_x?(array,integer_x)
  answers = []
  array.sort
  array.each do |item|
    if answers.last == item
      return [integer_x - item, item]
    end
    answers &lt;&lt; (integer_x - item)

    while answers.first &amp;&amp; answers.first &lt; item
      answers.shift
    end
    if answers.first == item
      return [integer_x - item, item]
    end
  end
end

Benchmark.bmbm do |x|
   x.report { more_awesome unsorted_array,integer_x }
   x.report { awesome unsorted_array,integer_x }
   x.report { adds_to_x? unsorted_array,integer_x }

end
       user     system      total        real
       0.590000   0.000000   0.590000 (  0.601332)
       0.370000   0.010000   0.380000 (  0.367863)
       0.300000   0.000000   0.300000 (  0.297452)
</code></pre>

<p>We will look into just how efficient each of these algorithms are soon enough.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/14/algorithm-analysis/">Algoirthm Analysis</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-14T01:37:00-08:00" pubdate data-updated="true">Feb 14<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>&#8220;Algorithms are the most important and durable part of computer science because
they can be studied in a language- and machine-independent way&#8221;</p>

<p>&#8220;It is traditional for the author to magnanimously accept the blame for whatever
deﬁciencies remain. I don’t. Any errors, deﬁciencies, or problems in this book are
somebody else’s fault, but I would appreciate knowing about them so as to determine who is to blame.&#8221;</p>

<p>These quotes come from the Algorithm Design Manual.  I just began reading it at the recommendation of a trusted and wise Sherif of the devbootcamp in San Francisco.  Best, Worst, and Average-Case Complexity => these are the ideas that the book describes nicely using graphs.  I&#8217;d like to get some pretty graphs of my three solutions to the unsorted array and integer x problem, and I need a nice way to make graphs on an X/Y plane in ruby&#8230; I&#8217;m thinking I&#8217;ll just use a js library</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/13/setting-up-something-secret-on-heroku/">Setting Up Something Secret on Heroku</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-13T14:23:00-08:00" pubdate data-updated="true">Feb 13<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was wanting to run stripe on my new site www.karmagrove.com</p>

<p>I put the fake keys into my config file like a bad developer/ops person, which is of course a security problem because it&#8217;s an open source app.</p>

<p>So I add some new yaml file called strip.yaml to my config</p>

<pre><code>api_key: ENV['stripe_api_key']
public_key: ENV['stripe_public_key']
</code></pre>

<p>I create a new file called setup_heroku_keys.sh and add it to my git ignore.</p>

<pre><code>touch setup_heroku_keys.sh &amp;&amp; echo "setup_heroku_keys.sh" &gt;&gt; .gitignore
</code></pre>

<p>Then I add the following lines to my setup_heroku_keys.sh file</p>

<pre><code>heroku config:add STRIPE_API_KEY=sk_live_MY_SECRET
heroku config:add STRIPE_PUBLIC_KEY=pk_live_MY_PUBLISHABLE_KEY

bash setup_heroku_keys.sh

=&gt;
Setting config vars and restarting karma-grove... done, v16
STRIPE_API_KEY: sk_live_HIDDEN
Setting config vars and restarting karma-grove... done, v17
STRIPE_PUBLIC_KEY: pk_live_HIDDEN
</code></pre>

<p>I got this inspiration from the helpful heroku docs&#8230;
https://devcenter.heroku.com/articles/config-vars</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/07/how-to-make-inject-method/">How to Make Inject Method</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-07T18:31:00-08:00" pubdate data-updated="true">Feb 7<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This interviewer is like, what is your ruby skill on 1 to 10 and I&#8217;m like&#8230; I guess if Matz is 10 and newbie who just heard about ruby is 1, I&#8217;m like a 7.</p>

<p>He goes, okay, so what if we didn&#8217;t have the inject method, can you make it?</p>

<p>I&#8217;m thnking, this shouldn&#8217;t be so hard&#8230; I know how inject works.
It is an enumerable method that can have an initializer and takes a block, and returns a single value.  For instance</p>

<pre><code>[1,2].inject(1) { |initializer,item| initializer + item }
## first it comes across the item of 1 and ads 1 to it, then the result
## is 2, which is the initializer that is then added to 2, giving us
=&gt; 4
</code></pre>

<p>So now that we know how inject works, let&#8217;s implement it!</p>

<pre><code>def inject(initializer, &amp;block)
   # I think I'll need to store the initializer
   response = initializer
   self.each do |item|
     ## How do I yield to the block to build the response
     ## response = use_my_block(response,item)
   end
   response
end
</code></pre>

<p>I mention to the interviewer that I&#8217;m thining I am probably more like a 6 now&#8230;He chuckles and says many a time he&#8217;s taken a 7 down to a 4.  He asks me if I&#8217;ve heard of the yield method, which fixes my method_missing above</p>

<pre><code>def inject(initializer, &amp;block)
   response = initializer
   self.each do |item|
     response = yield response, item
   end
   response
end
</code></pre>

<p>And imagine that is inside the Array class&#8230;</p>

<p>To make it a little nicer and refactor a bit.</p>

<pre><code>class Array
  def inject(initializer, &amp;block)
   self.each do |item|
     initializer = yield initializer, item
   end
   initializer
  end
end
</code></pre>

<p>Let&#8217;s test it out and see if our new inject works the same as the real implementation that was shown at beginning&#8230;</p>

<pre><code>[1,2].inject(1) { |initializer,item| initializer + item }
=&gt; 4
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/26/given-unsorted-array-and-integer-x-part-2/">Given Unsorted Array and Integer X Part 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-26T12:27:00-08:00" pubdate data-updated="true">Jan 26<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><pre><code>Given an integer x and an unsorted array of integers,
describe an algorithm to  determine  whether two of the numbers add up to x.
</code></pre>

<p>I tell this mysterious hiring manager about my new implementation to the above solution <a href="/blog/2013/01/26/the-difference-between-n-2-and-2n-algorithm-example/"> here </a> that uses hashes and is faster than n<sup>2</sup> and he says,</p>

<pre><code>"Hashed are good shortcuts. But can you do it without hashes?"
</code></pre>

<p>I think to myself&#8230;. unsorted array and I&#8217;m looking for sums</p>

<p>I could first sort the array.  Then I could do a binary search?
I could even optimize it for only positive integers&#8230;.</p>

<p>I&#8217;m a little unsure.  Anyone have any ideas?</p>

<pre><code> def even_more_awesome?(unsorted_array,integer_x)
   sorted_array = unsorted_array.sort
   # at this point I could search the array
     # to see if there is
     # an upper bound where my integer_x exists

     sorted_array.each_with_index do |item, index|
         target = integer_x - item
       ## not sure what to do here?
         if item &gt; integer_x
           return false
         end
       if sorted_array[index+1,sorted_array.length-1].include?(target)
           return [item, target]
         end
     end

    end

     even_more_awesome? [1,3,5], 8
 =&gt; [3, 5]
</code></pre>

<p>it works but it could be better&#8230;</p>

<pre><code>def even_more_awesome?(unsorted_array,integer_x)
  sorted_array = unsorted_array.sort
  sorted_array.each_with_index do |item, index|
    target = integer_x - item
    if item &gt; integer_x
      return false
    end

    for i in sorted_array[index+1,sorted_array.length-1]
      break if i &gt; target
      return [item, target] if i == target
    end

   end
   return false
 end

 even_more_awesome? [1,3,5], 8
 =&gt; [3, 5]
</code></pre>

<p>Now it works&#8230; I wonder how it compares to my other solutions?  I also wonder if my earlier test was very biased.  I decided to use a larger random data set and to run it twice with bmbm instead of bm.</p>

<pre><code>require 'benchmark'

Benchmark.bmbm do |x|
   unsorted_array = (1..10000).map { rand(10000) }
   integer_x = rand(10000)
   x.report { more_awesome unsorted_array,integer_x }
   x.report { awesome unsorted_array,integer_x }
   x.report { even_more_awesome? unsorted_array, integer_x}
end


 user     system      total        real
0.000000   0.000000   0.000000 (  0.003523)
0.000000   0.000000   0.000000 (  0.000252)
0.010000   0.000000   0.010000 (  0.002643)

 user     system      total        real
0.000000   0.000000   0.000000 (  0.004666)
0.000000   0.000000   0.000000 (  0.002127)
0.000000   0.000000   0.000000 (  0.001775)
</code></pre>

<p>Now I&#8217;m just getting crazy but I want it to be better&#8230;</p>

<pre><code>def faster?(unsorted_array,integer_x)
  sorted_array = unsorted_array.sort
  sorted_array.each_with_index do |item, index|
    target = integer_x - item
    if item &gt; integer_x
      return false
    end

    max = sorted_array.length-1
    next_index = index+1
    for i in sorted_array[index+1,max]
      max = next_index &amp;&amp; break if i &gt; target
      return [item, target] if i == target
      next_index +=1
    end

   end
   return false
 end
</code></pre>

<p>I figured that this should be fastest, and my results from before may be biased because the arrays were too small.  I made them 100 times larger and moved the array declaration and integer_x outside the bmbm block.</p>

<pre><code>require 'benchmark'
unsorted_array = (1..1000000).map { rand(1000000) }
integer_x = rand(1000000)

Benchmark.bmbm do |x|
   x.report { more_awesome unsorted_array,integer_x }
   x.report { awesome unsorted_array,integer_x }
   x.report { even_more_awesome? unsorted_array, integer_x}
   x.report { faster?  unsorted_array, integer_x }
end


user     system      total        real
0.620000   0.010000   0.630000 (  0.632894)
0.270000   0.000000   0.270000 (  0.266455)
0.340000   0.000000   0.340000 (  0.340122)
0.340000   0.000000   0.340000 (  0.349022)


user     system      total        real
0.640000   0.010000   0.650000 (  0.644997)
0.270000   0.000000   0.270000 (  0.269851)
0.340000   0.000000   0.340000 (  0.348532)
0.350000   0.000000   0.350000 (  0.354552)
</code></pre>

<p>It looks like I went down the wrong worm hole&#8230; All my newest results are much slower and are simply two variations of more inefficient solutions.  I&#8217;ll need to come back to this&#8230;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/26/the-difference-between-n-2-and-2n-algorithm-example/">The Difference Between N^2 and 2n Algorithm Example</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-26T07:34:00-08:00" pubdate data-updated="true">Jan 26<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Good morning&#8230; how about we do an algorithm together&#8230; it&#8217;s right here in my google docs&#8230;  And I&#8217;m linked to this question</p>

<pre><code>Given an integer x and an unsorted array of integers,
describe an algorithm to  determine  whether two of the numbers add up to x.
</code></pre>

<p>Type or speak? I write to him as we are on phone and viewing same screen&#8230; he says typing is fine&#8230; so i type out this pseudo code of sorts.</p>

<p>iterate over the unsorted array, and for each number iterate over the rest adding them and checking if it is equal to our given integer.  if it is equal to given integer return the two numbers</p>

<p>he says.. that&#8217;s got an efficiency of n<sup>2</sup> as shown below&#8230;</p>

<p>(n-1) * n  => n<sup>2</sup></p>

<p>That&#8217;s not very efficient says the interviewer from a silicon valley startup that will go unnamed.</p>

<p>In actual ruby code, which I didn&#8217;t write as I attempted to write the faster solution than n<sup>2&#8230;</sup> though I was clueless</p>

<pre><code>def awesome(unsorted_array,integer_x)
  unsorted_array.each_with_index do |item, first_index|
     unsorted_array.each_with_index do |other_item, second_index|
       if (item + other_item == integer_x) &amp;&amp; (first_index != second_index)
       return [item, other_item]
       end
     end
  end
 end
</code></pre>

<p>awesome [1, 2, 5, 6], 7
 => [1, 6]</p>

<p>How do we make this faster than n<sup>2?</sup></p>

<p>The hint is to use hashes?  Why use a hash?</p>

<pre><code>def more_awesome(unsorted_array,integer_x)
  desired_addition = {}
  unsorted_array.each_with_index do |item, first_index|
    desired_addition[integer_x - item] = first_index
  end

  unsorted_array.each_with_index do |other_item, second_index|
    if (desired_addition[other_item]) &amp;&amp; (desired_addition[other_item] != second_index)
      return [integer_x - other_item, other_item]
    end
  end

 end
</code></pre>

<p>This solution is 2N because we loop over the array twice and no more to find if there is an answer.</p>

<p>Let&#8217;s see if it&#8217;s actually faster&#8230;.</p>

<pre><code>require 'benchmark'

unsorted_array = [1,2,5,6]
integer_x = 7
Benchmark.bm do |x|
  x.report { more_awesome unsorted_array,integer_x }
  x.report { awesome unsorted_array,integer_x }
end
   user     system      total        real
   0.000000   0.000000   0.000000 (  0.000036)
   0.000000   0.000000   0.000000 (  0.000018)
</code></pre>

<p>Why isn&#8217;t it faster?</p>

<p>I think it might be because the sample is too small.  Our sample data set used small list and in this case the less efficient solution executes faster  due to the fact that the answer is a combination of the first and last item, so the result is found after only 3 computations because we first loop over the 1, and then add the 2 to see if it is 7, then we check if 1 + 5 is seven, then we return 1 and 6 because they equal 7.</p>

<p>In the &#8220;more efficient&#8221; solution we are only more efficient in the worst case scenario, which in the case of the above answers would be if we wanted 11.</p>

<pre><code>unsorted_array = [1,2,5,6]
integer_x = 11

 Benchmark.bm do |x|
   x.report { more_awesome unsorted_array,integer_x }
   x.report { awesome unsorted_array,integer_x }
 end

     user     system      total        real
 0.000000   0.000000   0.000000 (  0.000024)
 0.000000   0.000000   0.000000 (  0.000020)
</code></pre>

<p>Looks really close&#8230;. but still not faster?  Maybe it&#8217;s because the array is just too small and the time it takes to build the hash just doesn&#8217;t cut it.</p>

<pre><code>unsorted_array = [1,1,1,1,1,1,2,5,6]
integer_x = 11
## same benchmark
    user     system      total        real
 0.000000   0.000000   0.000000 (  0.000040)
 0.000000   0.000000   0.000000 (  0.000054)
</code></pre>

<p>Nice. We got our more efficient solution to actually run faster.  Now let&#8217;s stop making contrived tests to make our answer seem right and use something a little more fair.</p>

<pre><code>require 'benchmark'

unsorted_array = (1..10000).map { rand(10000) }
integer_x = rand(10000)

Benchmark.bm do |x|
   x.report { more_awesome unsorted_array,integer_x }
   x.report { awesome unsorted_array,integer_x }
end

  user     system      total        real
0.000000   0.000000   0.000000 (  0.007244)
0.010000   0.000000   0.010000 (  0.011289)
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/26/using-heroku-for-multiple-environments/">Using Heroku for Multiple Environments</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-26T07:33:00-08:00" pubdate data-updated="true">Jan 26<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have been working on a simple rails app @ lessonOverFlow.com with a couple friends and I started noticing that some deploys to the website would break the prod site because of some difference in my local mac environment and the heroku servers.  Even though we have no users, I&#8217;d rather figure out these speedbumps on a development or staging server.  Let&#8217;s call it development.</p>

<p>First thing is to point my DNS to heroku&#8217;s servers with a CNAME record</p>

<p>With namecheap it was as simple as adding in this reference&#8230;</p>

<p>Login&#8230; click &#8220;all host records&#8221;</p>

<p>add a subdomain setting for dev that points to #{dev-your-heroku-appname-here}.herokuapp.com.</p>

<p>The period at the end counts.  1800 for TTL.</p>

<p>make sure of course that you also do a heroku create dev-your-heroku-appname-here</p>

<p>After this point the guys at stack overflow have already answered it pretty well.</p>

<p>  git remote add staging staging-your-app.heroku.git
  git push staging staging:master</p>

<p>http://stackoverflow.com/questions/7713042/deploying-2-different-heroku-apps-with-same-git-repository</p>

<p>Now what does the staging:master mean in git push command above and in the answer on SO?</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/08/10/installing-wordpress-on-a-linode-ubuntu-with-nginx/">installing wordpress on a linode ubuntu with nginx</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/10/golang-nginx-and-sinatra-style-with-pat/">golang nginx and sinatra style with pat</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/25/how-to-host-sinatra-on-nginx-using-linode/">how to host sinatra on nginx using linode</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/04/go-vs-node-vs-other-hotness/">go vs node vs other hotness</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/04/teaching-lessons-learned-at-ga/">Teaching Lessons Learned at GA</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Joshua Montross -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
